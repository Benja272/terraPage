{% extends 'base.html' %}
{% load static %}
{% block content %}

<head>
	<link rel="stylesheet" type="text/css" href={% static 'css/ti_ingreso.css' %}?{% now "U" %}>
</head>

<body>
	<div aria-live="polite" aria-atomic="true" class="d-flex justify-content-center w-100">
		<div class="alert alert-danger fade show" role="alert" aria-live="assertive" aria-atomic="true">
			<div class="toast-header">
					{% for message in messages %}
					<script src="{% static 'alert.js' %}"></script>
					<p class="fw-semibold" id="messages"></p>{{message}}</p>
					<!-- retocar -->
					{% endfor %}
				<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
			</div>
		</div>
	</div>
	<div class="container">
		<div class="d-flex justify-content-center align-items-center" style="height: 100vh;">
			<div class="col-9 col-sm-9 col-md-6 col-lg-6 col-xl-5 col-xxl-5">
				<form class="form card" action="{% url 'login' %}" method=POST>
					{% csrf_token %}
					<img src={% static 'logo.jpg' %} class="card-img-top" alt="...">
					<div class="card-body">
						<div class="form-floating mb-2">
							<input type="email name" required name="username" class="form-control" id="floatingInput"
								placeholder="Usuario">
							<label for="floatingInput">Usuario</label>
						</div>
						<div class="form-floating mb-2">
							<input type="password" required name="password" class="form-control" id="password"
								placeholder="Contraseña">
							<label for="floatingPassword">Contraseña</label>
							<i class="bi bi-eye-slash" id="togglePassword"></i>
						</div>
						<div class="text-center">
							<button type="submit" value="Ingresar" class="btn btn-outline-dark">Ingresar</button>
						</div>
						<script>
							const togglePassword = document.querySelector("#togglePassword");
							const password = document.querySelector("#password");

							togglePassword.addEventListener("click", function () {
								// toggle the type attribute
								const type = password.getAttribute("type") === "password" ? "text" : "password";
								password.setAttribute("type", type);

								// toggle the icon
								this.classList.toggle("bi-eye");
							});
						</script>
					</div>
				</form>
			</div>
		</div>
	</div>
</body>
{% endblock %}